# TeamSpeak 6 Music Bot

–ú—É–∑—ã–∫–∞–ª—å–Ω—ã–π –±–æ—Ç –¥–ª—è TeamSpeak 6 —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π YouTube.

## üéµ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –º—É–∑—ã–∫–∏ —Å YouTube
- –û—á–µ—Ä–µ–¥—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã –≤ —á–∞—Ç–µ
- –†–∞–±–æ—Ç–∞ –≤ Docker

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker –∏ Docker Compose
- TeamSpeak 6 —Å–µ—Ä–≤–µ—Ä —Å Query API
- –î–æ—Å—Ç—É–ø –∫ –ø–æ—Ä—Ç—É 10011 (Raw Query)

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
git clone https://github.com/BalgeetTjinder/TS6-Music-bot.git
cd TS6-Music-bot
```

### 2. –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

```bash
cp config.example.json config.json
nano config.json
```

–ó–∞–ø–æ–ª–Ω–∏—Ç–µ `config.json`:

```json
{
  "server": {
    "host": "127.0.0.1",
    "queryPort": 10011,
    "voicePort": 9987
  },
  "credentials": {
    "queryUsername": "serveradmin",
    "queryPassword": "–≤–∞—à_–ø–∞—Ä–æ–ª—å"
  },
  "bot": {
    "nickname": "MusicBot",
    "defaultChannel": "Music",
    "commandPrefix": "!"
  }
}
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

```bash
docker-compose up -d
```

### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏

```bash
docker logs -f ts6-music-bot
```

## üìù –ö–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `!play <url>` | –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ —Ç—Ä–µ–∫ —Å YouTube |
| `!skip` | –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ç–µ–∫—É—â–∏–π —Ç—Ä–µ–∫ |
| `!stop` | –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ |
| `!pause` | –ü–æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞ –ø–∞—É–∑—É |
| `!resume` | –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ |
| `!queue` | –ü–æ–∫–∞–∑–∞—Ç—å –æ—á–µ—Ä–µ–¥—å |
| `!np` | –¢–µ–∫—É—â–∏–π —Ç—Ä–µ–∫ |
| `!volume <0-100>` | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≥—Ä–æ–º–∫–æ—Å—Ç—å |
| `!clear` | –û—á–∏—Å—Ç–∏—Ç—å –æ—á–µ—Ä–µ–¥—å |
| `!help` | –°–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ |

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **Query API vs Audio**: Server Query API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–æ—Ç–æ–º –∏ –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥. –î–ª—è **–ø–µ—Ä–µ–¥–∞—á–∏ –∞—É–¥–∏–æ** –≤ TeamSpeak —Ç—Ä–µ–±—É–µ—Ç—Å—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ (–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –∫–ª–∏–µ–Ω—Ç).

2. **–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è**: –≠—Ç–∞ –≤–µ—Ä—Å–∏—è –±–æ—Ç–∞:
   - ‚úÖ –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ TS6 —á–µ—Ä–µ–∑ Query API
   - ‚úÖ –ü–æ–ª—É—á–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã –∏–∑ —á–∞—Ç–∞
   - ‚úÖ –°–∫–∞—á–∏–≤–∞–µ—Ç –∞—É–¥–∏–æ —Å YouTube
   - ‚ö†Ô∏è –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –∞—É–¥–∏–æ –ª–æ–∫–∞–ª—å–Ω–æ (—á–µ—Ä–µ–∑ ffplay)
   
   –î–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏–∏ –≤ TS6 —Ç—Ä–µ–±—É–µ—Ç—Å—è:
   - –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –∞—É–¥–∏–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ (PulseAudio, Virtual Audio Cable)
   - –ö–ª–∏–µ–Ω—Ç TeamSpeak, –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –Ω–∞ —ç—Ç–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
   - –ò–ª–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å SinusBot

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

–î–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ –º—É–∑—ã–∫–∞–ª—å–Ω–æ–≥–æ –±–æ—Ç–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:

1. **SinusBot** - –≥–æ—Ç–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –º—É–∑—ã–∫–∞–ª—å–Ω—ã—Ö –±–æ—Ç–æ–≤ TeamSpeak
2. **–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –∫–ª–∏–µ–Ω—Ç** + ffmpeg + –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –∞—É–¥–∏–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Query API

1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ TS6 —Å–µ—Ä–≤–µ—Ä—É —á–µ—Ä–µ–∑ –∫–ª–∏–µ–Ω—Ç
2. –ü–æ–ª—É—á–∏—Ç–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ Server Query –∏–∑ –ª–æ–≥–æ–≤ —Å–µ—Ä–≤–µ—Ä–∞ –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç 10011 –¥–æ—Å—Ç—É–ø–µ–Ω

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
ts6-music-bot/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ index.js        # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª
‚îÇ   ‚îú‚îÄ‚îÄ ts3query.js     # Raw Query –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ musicPlayer.js  # –ü–ª–µ–µ—Ä
‚îÇ   ‚îî‚îÄ‚îÄ commandHandler.js # –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥
‚îú‚îÄ‚îÄ config.example.json # –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ docker-compose.yml
‚îî‚îÄ‚îÄ README.md
```

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

```bash
git pull
docker-compose down
docker-compose build
docker-compose up -d
```

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
